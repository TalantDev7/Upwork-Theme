"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(j,d){function i(m,p,h,t,r){function e(){var o,a,i,u;z=1<j.devicePixelRatio,h=n(h),0<=p.delay&&setTimeout(function(){l(!0)},p.delay),(p.delay<0||p.combined)&&(t.e=(o=p.throttle,a=function(t){"resize"===t.type&&(v=w=-1),l(t.all)},u=0,function(t,r){function e(){u=+new Date,a.call(m,t)}var n=+new Date-u;i&&clearTimeout(i),o<n||!p.enableThrottle||r?e():i=setTimeout(e,o-n)}),t.a=function(t){t=n(t),h.push.apply(h,t)},t.g=function(){return h=D(h).filter(function(){return!D(this).data(p.loadedName)})},t.f=function(t){for(var r=0;r<t.length;r++){var e=h.filter(function(){return this===t[r]});e.length&&l(!1,e)}},l(),D(p.appendScroll).on("scroll."+r+" resize."+r,t.e))}function n(t){for(var r=p.defaultImage,e=p.placeholder,n=p.imageBase,o=p.srcsetAttribute,a=p.loaderAttribute,i=p._f||{},u=0,l=(t=D(t).filter(function(){var t=D(this),r=g(this);return!t.data(p.handledName)&&(t.attr(p.attribute)||t.attr(o)||t.attr(a)||i[r]!==d)}).data("plugin_"+p.name,m)).length;u<l;u++){var f=D(t[u]),c=g(t[u]),s=f.attr(p.imageBaseAttribute)||n;c===k&&s&&f.attr(o)&&f.attr(o,function(t,r){if(r){var e=t.split(",");t="";for(var n=0,o=e.length;n<o;n++)t+=r+e[n].trim()+(n!==o-1?",":"")}return t}(f.attr(o),s)),i[c]===d||f.attr(a)||f.attr(a,i[c]),c===k&&r&&!f.attr(L)?f.attr(L,r):c===k||!e||f.css(_)&&"none"!==f.css(_)||f.css(_,"url('"+e+"')")}return t}function l(t,r){if(!h.length)return p.autoDestroy&&m.destroy(),0;for(var e,n,o,a,i,u=r||h,l=!1,f=p.imageBase||"",c=p.srcsetAttribute,s=p.handledName,d=0;d<u.length;d++)(t||r||(n=u[d],o=i=a=o=void 0,o=n.getBoundingClientRect(),a=p.scrollDirection,i=p.threshold,n=(0<=w?w:w=D(j).height())+i>o.top&&-i<o.bottom,o=(0<=v?v:v=D(j).width())+i>o.left&&-i<o.right,"vertical"===a?n:("horizontal"===a||n)&&o))&&(e=D(u[d]),i=g(u[d]),a=e.attr(p.attribute),n=e.attr(p.imageBaseAttribute)||f,o=e.attr(p.loaderAttribute),e.data(s)||p.visibleOnly&&!e.is(":visible")||!((a||e.attr(c))&&(i===k&&(n+a!==e.attr(L)||e.attr(c)!==e.attr(S))||i!==k&&n+a!==e.css(_))||o)||(e.data(s,l=!0),function(r,t,e,n){++y;var o=function(){A("onError",r),b(),o=D.noop};A("beforeLoad",r);var a=p.attribute,i=p.srcsetAttribute,u=p.sizesAttribute,l=p.retinaAttribute,f=p.removeAttribute,c=p.loadedName,s=r.attr(l);{var d,m;n?(d=function(){f&&r.removeAttr(p.loaderAttribute),r.data(c,!0),A(x,r),setTimeout(b,1),d=D.noop},r.off(T).one(T,o).one(B,d),A(n,r,function(t){t?(r.off(B),d()):(r.off(T),o())})||r.trigger(T)):((m=D(new Image)).one(T,o).one(B,function(){r.hide(),t===k?r.attr(M,m.attr(M)).attr(S,m.attr(S)).attr(L,m.attr(L)):r.css(_,"url('"+m.attr(L)+"')"),r[p.effect](p.effectTime),f&&(r.removeAttr(a+" "+i+" "+l+" "+p.imageBaseAttribute),u!==M&&r.removeAttr(u)),r.data(c,!0),A(x,r),m.remove(),b()}),s=(z&&s?s:r.attr(a))||"",m.attr(M,r.attr(u)).attr(S,r.attr(i)).attr(L,s?e+s:null),m.complete&&m.trigger(B))}}(e,i,n,o)));l&&(h=D(h).filter(function(){return!D(this).data(s)}))}function g(t){return t.tagName.toLowerCase()}function b(){--y,h.length||y||A("onFinishedAll")}function A(t){return(t=p[t])&&(t.apply(m,[].slice.call(arguments,1)),1)}var y=0,v=-1,w=-1,z=!1,x="afterLoad",B="load",T="error",k="img",L="src",S="srcset",M="sizes",_="background-image";"event"===p.bind||o?e():D(j).on(B+"."+r,e)}function f(t,r){var e=this,n=D.extend({},e.config,r),o={},a=n.name+"-"+ ++u;return e.config=function(t,r){return r===d?n[t]:(n[t]=r,e)},e.addItems=function(t){return o.a&&o.a("string"===D.type(t)?D(t):t),e},e.getItems=function(){return o.g?o.g():{}},e.update=function(t){return o.e&&o.e({},!t),e},e.force=function(t){return o.f&&o.f("string"===D.type(t)?D(t):t),e},e.loadAll=function(){return o.e&&o.e({all:!0},!0),e},e.destroy=function(){return D(n.appendScroll).off("."+a,o.e),D(j).off("."+a),o={},d},i(e,n,t,o,a),n.chainable?t:e}var D=j.jQuery||j.Zepto,u=0,o=!1;D.fn.Lazy=D.fn.lazy=function(t){return new f(this,t)},D.Lazy=D.lazy=function(t,r,e){if(D.isFunction(r)&&(e=r,r=[]),D.isFunction(e)){t=D.isArray(t)?t:[t],r=D.isArray(r)?r:[r];for(var n=f.prototype.config,o=n._f||(n._f={}),a=0,i=t.length;a<i;a++)n[t[a]]!==d&&!D.isFunction(n[t[a]])||(n[t[a]]=e);for(var u=0,l=r.length;u<l;u++)o[r[u]]=t[0]}},f.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:j,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:d,afterLoad:d,onError:d,onFinishedAll:d},D(j).on("load",function(){o=!0})}(window),function(t){"function"==typeof define&&define.amd?define("parollerjs",["jquery"],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=t(require("jquery")):t(jQuery)}(function(b){function A(){y=!1}var y=!1,v=function(t,r){return t.css({"background-position":"center "+-r+"px"})},w=function(t,r){return t.css({"background-position":-r+"px center"})},z=function(t,r,e,n){return t.css({"-webkit-transform":"translateY("+r+"px)"+(n="none"===n?"":n),"-moz-transform":"translateY("+r+"px)"+n,transform:"translateY("+r+"px)"+n,transition:e,"will-change":"transform"})},x=function(t,r,e,n){return t.css({"-webkit-transform":"translateX("+r+"px)"+(n="none"===n?"":n),"-moz-transform":"translateX("+r+"px)"+n,transform:"translateX("+r+"px)"+n,transition:e,"will-change":"transform"})},B=function(t,r,e){var n=t.data("paroller-factor"),o=n||e.factor;if(r<576){var a=t.data("paroller-factor-xs"),a=a||e.factorXs;return a||o}if(r<=768){a=t.data("paroller-factor-sm"),a=a||e.factorSm;return a||o}if(r<=1024){var i=t.data("paroller-factor-md"),i=i||e.factorMd;return i||o}if(r<=1200){i=t.data("paroller-factor-lg"),i=i||e.factorLg;return i||o}if(r<=1920){t=t.data("paroller-factor-xl"),e=t||e.factorXl;return e||o}return o},T=function(t,r){return Math.round(t*r)},k=function(t,r,e,n){return Math.round((t-e/2+n)*r)},L=function(t){return t.css({"background-position":"unset"})},S=function(t){return t.css({transform:"unset",transition:"unset"})};b.fn.paroller=function(p){var h=b(window).height(),g=b(document).height(),p=b.extend({factor:0,factorXs:0,factorSm:0,factorMd:0,factorLg:0,factorXl:0,transition:"translate 0.1s ease",type:"background",direction:"vertical"},p);return this.each(function(){var e=b(this),n=b(window).width(),o=e.offset().top,a=e.outerHeight(),t=e.data("paroller-type"),r=e.data("paroller-direction"),i=e.data("paroller-transition"),u=e.css("transform"),l=i||p.transition,f=t||p.type,c=r||p.direction,s=0,d=T(o,s),m=k(o,s,h,a);"background"===f?"vertical"===c?v(e,d):"horizontal"===c&&w(e,d):"foreground"===f&&("vertical"===c?z(e,m,l,u):"horizontal"===c&&x(e,m,l,u)),b(window).on("resize",function(){var t=b(this).scrollTop();n=b(window).width(),o=e.offset().top,a=e.outerHeight(),s=B(e,n,p),d=Math.round(o*s),m=Math.round((o-h/2+a)*s),y||(window.requestAnimationFrame(A),y=!0),"background"===f?(L(e),"vertical"===c?v(e,d):"horizontal"===c&&w(e,d)):"foreground"===f&&t<=g&&(S(e),"vertical"===c?z(e,m,l):"horizontal"===c&&x(e,m,l))}),b(window).on("scroll",function(){var t=b(this).scrollTop(),r=b(document).scrollTop();s=0===r?0:B(e,n,p),d=Math.round((o-t)*s),m=Math.round((o-h/2+a-t)*s),y||(window.requestAnimationFrame(A),y=!0),"background"===f?"vertical"===c?v(e,d):"horizontal"===c&&w(e,d):"foreground"===f&&t<=g&&("vertical"===c?z(e,m,l,u):"horizontal"===c&&x(e,m,l,u))})})}});